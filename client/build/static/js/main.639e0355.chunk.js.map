{"version":3,"sources":["config.js","style/assets/baseline-edit-24px.svg","style/assets/iconfinder_cancel_326554.svg","style/assets/icons8-delete-bin-24.png","local-storage.js","actions/utils.js","actions/index.js","reducers/auth.js","reducers/protected-data.js","reducers/event-room-data.js","store.js","reducers/navbar.js","components/layout/SignedInLinks.js","components/layout/SignedOutLinks.js","components/layout/Navbar.js","components/layout/Footer.js","components/Landing.js","actions/dashboard.js","components/EventCard.js","components/EventCardCreate.js","components/Dashboard.js","actions/event-room.js","components/UserTasks.js","components/Tasks.js","components/ScheduleInput.js","validators.js","actions/schedule.js","components/Schedule.js","components/Chat.js","components/ScheduleCreate.js","components/TaskCreate.js","components/EventRoom.js","components/auth/SignIn.js","components/auth/SignUp.js","App.js","serviceWorker.js","index.js"],"names":["exports","API_ORIGIN","process","REACT_APP_API_ORIGIN","module","__webpack_require__","p","loadAuthToken","localStorage","getItem","normalizeResponseErrors","res","ok","headers","has","get","startsWith","json","then","err","Promise","reject","code","status","message","statusText","setAuthToken","authToken","type","storeAuthInfo","user","dispatch","jwtDecode","token","currentUser","setItem","e","saveAuthToken","refreshAuthToken","getState","fetch","concat","method","x-auth","console","log","catch","error","initialState","userObject","username","userID","data","events","loading","eventID","event","schedules","tasks","store","createStore","combineReducers","navbar","state","arguments","length","undefined","text","action","Object","objectSpread","protected_data","toConsumableArray","newState","filter","_id","assign","auth","id","event_room","updatedTasks","map","item","completed","updatedSchedule","schedule","form","formReducer","applyMiddleware","thunk","SignedInLinks","_React$Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","key","value","props","removeItem","clearAuthToken","logOutLink","_this","loggedIn","react_default","a","createElement","NavLink","onClick","logOut","to","className","React","Component","connect","Navbar","_getPrototypeOf2","_len","args","Array","_key","call","handleLogoClick","history","push","links","layout_SignedInLinks","layout_SignedOutLinks","withRouter","Footer","Landing","accordionHead","handleAccordion","readmore","document","getElementsByClassName","i","addEventListener","classList","toggle","contains","setState","panel","nextElementSibling","style","maxHeight","scrollHeight","fetchDataError","getPopulatedEvent","event_id","content-type","storeEventRoomInfo","EventCard","_Component","onJoin","room","find","password","joinEventRoom","prompt","alert","onDelete","deleteEvent","_this2","src","imageUrl","height","width","title","description","data-event-id","currentTarget","getAttribute","user_id","CreateEvent","handleChange","defineProperty","target","handleSubmit","preventDefault","createEvent","onSubmit","htmlFor","onChange","inputs","body","JSON","stringify","addEventToState","Dashboard","fetchProtectedDataSuccess","index","components_EventCard","EventCardCreate","Redirect","protectedData","UserTasks","handleCheckBox","checkBox","updateTask","taskDetails","taskCheckBox","checked","details","task_id","completion","updateTasks","Tasks","task","components_UserTasks","ScheduleInput","prevProps","meta","active","input","focus","warning","Element","element","touched","name","label","ref","required","nonEmpty","trim","scheduleUpdate","schedule_id","date","Date","Details","location","Location","updateSchedule","scheduleDelete","Schedule","handleScheduleEdit","edit","handleScheduleUpdate","values","handleScheduleDelete","Content-Type","reason","SubmissionError","_error","successMessage","errorMessage","submitSucceeded","editButton","cancelIcon","alt","editIcon","editSchedule","Field","component","validate","placholder","disabled","pristine","submitting","moment","format","deleteIcon","reduxForm","Chat","ScheduleCreate","handleScheduleChange","handleScheduleSubmit","createSchedule","toISOString","split","placeholder","addItemToSchedule","TaskCreate","users","createTask","selection","rows","addTaskToList","EventRoom","match","params","fetchSchedulesSuccess","fetchTasksSuccess","fetchTasks","components_Schedule","allTasks","Set","items","components_Tasks","components_TaskCreate","components_ScheduleCreate","components_Chat","SignIn","email","signin","SignUp","signup","App","startPeriodicRefresh","stopPeriodicRefresh","refreshInterval","setInterval","clearInterval","BrowserRouter","layout_Navbar","Switch","Route","exact","path","layout_Footer","hasAuthToken","Boolean","window","hostname","ReactDOM","render","es","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.639e0355.chunk.js","sourcesContent":["// exports.API_ORIGIN = process.env.REACT_APP_API_ORIGIN || 'http://localhost:3002';\r\nexports.API_ORIGIN = process.env.REACT_APP_API_ORIGIN || 'https://plan-it-react-capstone.herokuapp.com';\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/baseline-edit-24px.45b30f6a.svg\";","module.exports = __webpack_public_path__ + \"static/media/iconfinder_cancel_326554.e2efc196.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACbSURBVEhL5ZLBCcMwFEM9UJfoKdmqQ3aD5NYl0v9uwohELvjSPHjY2JaMSdpteJVHJ2s/0ReNeokLjXgT3NMTY1w4McaFE2M09C6f5UfWmLPGnp6N0RBF8CgpRubAnp6N0ZAWMupcX4UxGkK9BFw5xvTBqRdoOaPO+0tiNDT9I0//TUeMceHEmL10BWduZcxaEnBFTs4u5d/R2hfdBdMTTzJM2AAAAABJRU5ErkJggg==\"","export const loadAuthToken = () => {\r\n  return localStorage.getItem('authToken');\r\n};\r\n\r\n//try//attempting to save a value to localStorage will throw an exception in Safari\r\nexport const saveAuthToken = authToken => {\r\n  try {\r\n      localStorage.setItem('authToken', authToken);\r\n  } catch (e) {}\r\n};\r\n\r\nexport const clearAuthToken = () => {\r\n  try {\r\n      localStorage.removeItem('authToken');\r\n  } catch (e) {}\r\n};","// Boilerplate code for handling errors from the API.  If the error response\r\n// contains JSON then we return a rejected promise containing the decoded\r\n// JSON.  If the error doesn't contain JSON then we return a rejected promise\r\n// containing the status text.  If there is no error then we continue with\r\n// the promise chain.\r\nexport const normalizeResponseErrors = res => {\r\n  if (!res.ok) {\r\n      if (\r\n          res.headers.has('content-type') &&\r\n          res.headers.get('content-type').startsWith('application/json')\r\n      ) {\r\n          // It's a nice JSON error returned by us, so decode it\r\n          return res.json().then(err => Promise.reject(err));\r\n      }\r\n      // It's a less informative error returned by express\r\n      return Promise.reject({\r\n          code: res.status,\r\n          message: res.statusText\r\n      });\r\n  }\r\n  return res;\r\n};\r\n","import jwtDecode from \"jwt-decode\";\r\n\r\nimport { API_ORIGIN } from '../config';\r\nimport { normalizeResponseErrors } from './utils';\r\nimport { saveAuthToken, clearAuthToken } from '../local-storage';\r\nimport { loadAuthToken } from '../local-storage';\r\nimport { SubmissionError } from 'redux-form';\r\n\r\n// const TOKEN = 'authToken'\r\n// const ID = 'id'\r\n\r\n\r\nexport const setHeaderText = () => ({\r\n  type: 'SET_HEADER',\r\n  text: 'example/test text'\r\n})\r\n\r\n\r\nexport const CLEAR_AUTH = 'CLEAR_AUTH';\r\nexport const clearAuth = () => ({\r\n  type: CLEAR_AUTH\r\n});\r\n\r\nexport const setAuthToken = authToken => ({\r\n  type: 'SET_AUTH_TOKEN',\r\n  authToken\r\n});\r\n\r\nexport const authSuccess = currentUser => ({\r\n  type: 'AUTH_SUCCESS',\r\n  currentUser\r\n});\r\n\r\nexport const authRequest = () => ({\r\n  type: 'AUTH_REQUEST'\r\n});\r\n\r\nexport const authError = error => ({\r\n  type: 'AUTH_ERROR',\r\n  error\r\n});\r\n\r\n\r\n\r\nconst storeAuthInfo = (user, dispatch) => {\r\n  const decodedToken = jwtDecode(user.token);\r\n  // console.log('decodedToken', decodedToken)\r\n  // console.log('store user', user)\r\n  // console.log('user id ', decodedToken._id)\r\n  dispatch(setAuthToken(user.token));\r\n  dispatch(authSuccess(user));\r\n  // dispatch(logSession({ user: decodedToken.username }));\r\n  saveAuthToken(user.token);\r\n\r\n};\r\n\r\nexport const signin = user => dispatch => {\r\n  dispatch(authRequest());\r\n  fetch(`${API_ORIGIN}/api/users/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify(user)\r\n  })\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.statusText);\r\n      }\r\n      // let test = res.json();\r\n      // console.log(test, \"test\")\r\n      // return test\r\n      return res.json();\r\n    })\r\n    .then((user) => {\r\n      console.log('user signin res', user)\r\n      storeAuthInfo(user, dispatch)\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      // dispatch(fetchErr(err));\r\n    });\r\n};\r\n\r\n\r\nexport const refreshAuthToken = () => (dispatch, getState) => {\r\n  dispatch(authRequest());\r\n  const token = loadAuthToken();\r\n  return fetch(`${API_ORIGIN}/api/users/refresh`, {\r\n    method: 'POST',\r\n    headers: {\r\n      // Provide our existing token as credentials to get a new one\r\n      'x-auth': token\r\n    }\r\n  })\r\n    .then(res => normalizeResponseErrors(res))\r\n    .then(res => res.json())\r\n    .then((user) => {\r\n      console.log('refresh token', user)\r\n      storeAuthInfo(user, dispatch)\r\n    })\r\n    .catch(err => {\r\n      // We couldn't get a refresh token because our current credentials\r\n      // are invalid or expired, or something else went wrong, so clear\r\n      // them and sign us out\r\n      dispatch(authError(err));\r\n      // dispatch(clearAuth());\r\n      // clearAuthToken(token);\r\n    });\r\n};\r\n\r\nexport const signup = user => dispatch => {\r\n  return fetch(`${API_ORIGIN}/api/users`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify(user)\r\n  })\r\n    .then(res => normalizeResponseErrors(res))\r\n    .then(res => res.json())\r\n    .catch(err => {\r\n      const { reason, message, location } = err;\r\n      if (reason === 'ValidationError') {\r\n        // Convert ValidationErrors into SubmissionErrors for Redux Form\r\n        return Promise.reject(\r\n          new SubmissionError({\r\n            [location]: message\r\n          })\r\n        );\r\n      }\r\n    });\r\n};\r\n","const initialState = {\r\n  authToken: null,\r\n  userObject: null,\r\n  username: null,\r\n  userID: '',\r\n  error: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case 'CLEAR_AUTH':\r\n      return Object.assign({}, state, {\r\n        authToken: null,\r\n        userObject: null,\r\n        username: null,\r\n        userID: '',\r\n      });\r\n\r\n    case 'SET_AUTH_TOKEN':\r\n      return Object.assign({}, state, {\r\n        authToken: action.authToken,\r\n        loading: false\r\n      });\r\n\r\n    case 'AUTH_SUCCESS':\r\n      return Object.assign({}, state, {\r\n        loading: false,\r\n        userObject: action.currentUser,\r\n        username: action.currentUser.username,\r\n        userID: action.currentUser.id\r\n      });\r\n\r\n    case 'AUTH_REQUEST':\r\n      return Object.assign({}, state, {\r\n        loading: true,\r\n        error: null\r\n      });\r\n\r\n    case 'AUTH_ERROR':\r\n      return Object.assign({}, state, {\r\n        loading: false,\r\n        error: action.error\r\n      });\r\n\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","const initialState = {\r\n  data: '',\r\n  error: null,\r\n  events: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case 'ADD_EVENT':\r\n      return {\r\n        ...state, events: [...state.events, action.data]\r\n      }\r\n    // Object.assign({}, state, {\r\n    // events: state.events.push(action.data),\r\n    // error: null\r\n    // });\r\n\r\n    case 'DELETE_EVENT':\r\n      // console.log('state ids', state.events)\r\n      const newState = state.events.filter((event) => event._id !== action.data)\r\n      // console.log('S T A T E', newState)\r\n      return { ...state, events: newState }\r\n\r\n    case 'FETCH_PROTECTED_DATA_SUCCESS':\r\n      return Object.assign({}, state, {\r\n        events: action.data,\r\n        error: null\r\n      });\r\n\r\n    case 'FETCH_DATA_ERROR':\r\n      return Object.assign({}, state, {\r\n        error: action.error\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","import { updateLocale } from \"moment\";\r\n\r\n// import { fetchSchedules, fetchTasks } from \"../actions/event-room\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  eventID: '',\r\n  event: {},\r\n  error: null,\r\n  schedules: [],\r\n  tasks: [],\r\n  // eventUsers: [],\r\n\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case 'REQUEST':\r\n      return Object.assign({}, state, {\r\n        loading: true\r\n      });\r\n\r\n    case 'SET_EVENT':\r\n      // console.log('Set Event DATA', action.data)\r\n      return Object.assign({}, state, {\r\n        event: action.data,\r\n        eventID: action.data._id,\r\n        loading: false,\r\n      });\r\n\r\n    // case 'STORE_USER_TO_EVENT':\r\n    //   return Object.assign({}, state, {\r\n    //     eventUsers: action.user\r\n    //   });\r\n\r\n    case 'FETCH_SCHEDULES_SUCCESS':\r\n      return Object.assign({}, state, {\r\n        schedules: action.data,\r\n        error: null\r\n      });\r\n\r\n    case 'ADD_TO_SCHEDULE':\r\n      return {\r\n        ...state, schedules: [...state.schedules, action.data]\r\n      }\r\n\r\n    case 'ADD_TO_TASKS':\r\n      // console.log('STATE of Tasks', state.tasks)\r\n      return {\r\n        ...state, tasks: [...state.tasks, action.data]\r\n      }\r\n\r\n    case 'UPDATE_TASKS':\r\n      let id = action.data._id\r\n      const updatedTasks = state.tasks.map((item) => {\r\n        if (item._id === id) {\r\n          item.completed = !item.completed;\r\n        }\r\n        return item;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        tasks: updatedTasks\r\n      }\r\n\r\n    case 'UPDATE_SCHEDULE':\r\n      const updatedSchedule = state.schedules.map((item) => {\r\n        if (item._id === action.data._id) {\r\n          item = action.data\r\n        }\r\n        return item;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        schedules: updatedSchedule\r\n      }\r\n\r\n    case 'DELETE_SCHEDULE':\r\n      // console.log('state ids', state.events)\r\n      const newState = state.schedules.filter((schedule) => schedule._id !== action.data)\r\n      // console.log('S T A T E', newState)\r\n      return { ...state, schedules: newState }\r\n\r\n    case 'FETCH_TASKS_SUCCESS':\r\n      return Object.assign({}, state, {\r\n        tasks: action.data,\r\n        error: null\r\n      });\r\n\r\n\r\n    case 'FETCH_DATA_ERROR':\r\n      return Object.assign({}, state, {\r\n        error: action.error\r\n      });\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import { createStore, applyMiddleware } from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { combineReducers } from 'redux'\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nimport { loadAuthToken } from './local-storage';\r\nimport { setAuthToken, refreshAuthToken } from './actions';\r\n\r\nimport navbar from './reducers/navbar'\r\n// import planit from './navbar'\r\nimport auth from './reducers/auth'\r\nimport protected_data from './reducers/protected-data'\r\nimport event_room from './reducers/event-room-data'\r\n\r\n\r\n\r\nconst store = createStore(combineReducers({\r\n  navbar,\r\n  protected_data,\r\n  auth,\r\n  event_room,\r\n  form: formReducer\r\n}),\r\n  applyMiddleware(thunk)\r\n)\r\n\r\n// Hydrate the authToken from localStorage if it exist\r\nconst authToken = loadAuthToken();\r\nif (authToken) {\r\n  const token = authToken;\r\n  store.dispatch(setAuthToken(token));\r\n  store.dispatch(refreshAuthToken());\r\n}\r\n\r\n// export default createStore(reducers, applyMiddleware(thunk));\r\nexport default store;","\r\nexport default (state = {text: \"hello\"}, action) => {\r\n  switch (action.type) {\r\n    case 'SET_HEADER':\r\n      return {\r\n        ...state,\r\n        text: action.text\r\n      }\r\n    default:\r\n      return state\r\n\r\n  }\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { clearAuth } from '../../actions';\r\nimport { clearAuthToken } from '../../local-storage';\r\n\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport \"../../style/navbar.css\";\r\n\r\nexport class SignedInLinks extends React.Component {\r\n  logOut() {\r\n    this.props.dispatch(clearAuth());\r\n    clearAuthToken();\r\n  }\r\n\r\n  render() {\r\n    let logOutLink;\r\n    if (this.props.loggedIn) {\r\n      logOutLink = (\r\n        <NavLink onClick={() => this.logOut()} to='/'>Log Out</NavLink>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <ul>\r\n        <li className=\"nav-item\"><NavLink to='/'>About</NavLink></li>\r\n        <li className=\"nav-item\"><NavLink to='/dashboard'>Dashboard</NavLink></li>\r\n        <li className=\"nav-item\">{logOutLink}</li>\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedIn: state.auth.username !== null\r\n});\r\n\r\nexport default connect(mapStateToProps)(SignedInLinks);","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport \"../../style/navbar.css\";\r\n\r\n\r\nconst SignedOutLinks = () => {\r\n  // console.log('state', getState().loggedIn)\r\n  // if (this.props.loggedIn) {\r\n  //   return null;\r\n  // }\r\n  return (\r\n    <ul>\r\n      <li className=\"nav-item\"><NavLink to='/'>About</NavLink></li>\r\n      <li className=\"nav-item\"><NavLink to='/signin'>Login</NavLink></li>\r\n      <li className=\"nav-item\"><NavLink to='/signup'>Sign-up</NavLink></li>\r\n    </ul>\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedIn: state.auth.username !== null\r\n});\r\n\r\nexport default connect(mapStateToProps)(SignedOutLinks);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport SignedInLinks from './SignedInLinks'\r\nimport SignedOutLinks from './SignedOutLinks'\r\n\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\n\r\nimport \"../../style/navbar.css\";\r\n\r\nexport class Navbar extends React.Component {\r\n\r\n  handleLogoClick = () => {\r\n    console.log('handleLogoClick')\r\n    this.props.history.push('/')\r\n  }\r\n\r\n  render() {\r\n\r\n    const links = this.props.loggedIn ? <SignedInLinks /> : <SignedOutLinks />\r\n\r\n    return (\r\n      <nav className=\"nav-wrapper\">\r\n        <div className=\"nav-left nav-item\" onClick={this.handleLogoClick}>Plan-it</div>\r\n        <div className=\"nav-right\">\r\n          {links}\r\n          {/* <li className=\"list-item\" onClick={this.handleAboutClick}>About</li>\r\n            <li className=\"list-item\" onClick={this.handleLoginClick}>Login</li>\r\n            <li className=\"list-item\" onClick={this.handleSignupClick}>Sign-up</li> */}\r\n        </div>\r\n      </nav>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedIn: state.auth.username !== null\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps)(withRouter(Navbar));","import React from \"react\";\r\n\r\n// import { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\nimport \"../../style/footer.css\";\r\n\r\nconst Footer = () => (\r\n  <div className=\"footer-container\">\r\n    <div className=\"signature\">Designed and Developed<br/>by Paul Lime</div>\r\n  </div>\r\n)\r\n\r\n\r\n\r\n\r\n// export class Landing extends React.Component {\r\n\r\n\r\n//   render() {\r\n\r\n//     return (\r\n//       <div className=\"card-container item\">\r\n//       landing\r\n//       </div>\r\n//     )\r\n//   }\r\n\r\n// }\r\n\r\n// const mapStateToProps = (state) => ({\r\n\r\n// })\r\n\r\n// const mapDispatchToProps = ({\r\n\r\n// })\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Landing);\r\nexport default Footer;","import React from \"react\";\r\n\r\n// import { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\nimport \"../style/landing.css\";\r\n\r\nexport class Landing extends React.Component {\r\n  state = {\r\n    accordionHead: 'read more...'\r\n  }\r\n\r\n  handleAccordion = () => {\r\n    const readmore = document.getElementsByClassName('accordion');\r\n\r\n    let i = null;\r\n\r\n    for (i = 0; i < readmore.length; i++) {\r\n      readmore[i].addEventListener('click', function () {\r\n        this.classList.toggle('active');\r\n\r\n        if (this.classList.contains('active')) {\r\n          // $('.accordion').text('show less...')\r\n          this.setState({ accordionHead: 'show less' })\r\n        } else {\r\n          // $('.accordion').text('read more...')\r\n          this.setState({ accordionHead: 'read more...' })\r\n\r\n        }\r\n\r\n        let panel = this.nextElementSibling;\r\n        if (panel.style.maxHeight) {\r\n          panel.style.maxHeight = null;\r\n        } else {\r\n          panel.style.maxHeight = panel.scrollHeight + \"px\";\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"landing-container\">\r\n        <div className=\"landing-overlay\">\r\n          <h1 className=\"landing-h1\">Plan-it</h1>\r\n          <div className=\"landing-subhead\">\r\n            <h2 className=\"landing-h2\">Bringing effectiveness to your group's travel planning</h2>\r\n            <div className=\"landing-more-wrapper\">\r\n              <div className=\"accordion\" onClick={this.handleAccordion}>{this.state.accordionHead}</div>\r\n              <div className=\"panel\">\r\n                <p>The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from \"de Finibus Bonorum et Malorum\" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Landing;\r\n\r\n\r\n// const Landing = (\r\n\r\n\r\n  // ) => (\r\n\r\n  // )\r\n\r\n\r\n\r\n  // import \"../style/eventcard.css\";\r\n\r\n  // export class Landing extends React.Component {\r\n\r\n\r\n  //   render() {\r\n\r\n  //     return (\r\n  //       <div className=\"card-container item\">\r\n  //       landing\r\n  //       </div>\r\n  //     )\r\n  //   }\r\n\r\n  // }\r\n\r\n  // const mapStateToProps = (state) => ({\r\n\r\n  // })\r\n\r\n  // const mapDispatchToProps = ({\r\n\r\n  // })\r\n\r\n  // export default connect(mapStateToProps, mapDispatchToProps)(Landing);","import { API_ORIGIN } from '../config';\r\nimport { normalizeResponseErrors } from './utils';\r\n\r\nexport const authRequest = () => ({\r\n  type: 'AUTH_REQUEST'\r\n});\r\n\r\nexport const request = () => ({\r\n  type: 'REQUEST'\r\n});\r\n\r\nexport const FETCH_PROTECTED_DATA_SUCCESS = 'FETCH_PROTECTED_DATA_SUCCESS';\r\nexport const fetchProtectedDataSuccess = data => ({\r\n  type: FETCH_PROTECTED_DATA_SUCCESS,\r\n  data\r\n});\r\n\r\nexport const addEventToState = data => ({\r\n  type: 'ADD_EVENT',\r\n  data\r\n});\r\n\r\nexport const deleteEventInState = data => ({\r\n  type: 'DELETE_EVENT',\r\n  data\r\n})\r\n\r\nexport const storeEventRoomInfo = (data) => ({\r\n  type: 'SET_EVENT',\r\n  data\r\n});\r\n\r\n// export const storeUserOnJoin = (user) => ({\r\n//   type: 'STORE_USER_TO_EVENT',\r\n//   user\r\n// })\r\n\r\nexport const FETCH_DATA_ERROR = 'FETCH_DATA_ERROR';\r\nexport const fetchDataError = error => ({\r\n  type: FETCH_DATA_ERROR,\r\n  error\r\n});\r\n\r\nexport const createEvent = (event_id, token) => dispatch => {\r\n  dispatch(authRequest());\r\n  fetch(`${API_ORIGIN}/api/events`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      'x-auth': token\r\n    },\r\n    body: JSON.stringify(event_id)\r\n  })\r\n\r\n    // .then(res => normalizeResponseErrors(res))\r\n    // .then(res => res.json())\r\n    // .then((data) => console.log(data))\r\n    // .then(( data ) => dispatch(updateEventsInState(data)))\r\n    // .catch(err => {\r\n    //   dispatch(fetchDataError(err));\r\n    // });\r\n\r\n    // .then(res => console.log(res.json(), 'create res'))\r\n\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.statusText);\r\n      }\r\n      // return test\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      console.log('DATA DATA', data)\r\n      dispatch(addEventToState(data))\r\n    })\r\n\r\n    // .then((event) => {\r\n    //   console.log('user signin res', user)\r\n    //   storeAuthInfo(user, dispatch)\r\n    // })\r\n    .catch(err => {\r\n      console.log(err)\r\n      // dispatch(fetchErr(err));\r\n    });\r\n};\r\n\r\nexport const joinEventRoom = (event_id) => (dispatch, getState) => {\r\n  // dispatch(request());\r\n  const token = getState().auth.authToken;\r\n  const user_id = getState().auth.userID;\r\n  // const event = getState().protected_data.events.filter(event => event._id === event_id).pop()\r\n\r\n  // console.log('EVENT om joinRoom function', event)\r\n\r\n  fetch(`${API_ORIGIN}/api/events/${event_id}/join/${user_id}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      'x-auth': token\r\n    },\r\n    // body: JSON.stringify(event)\r\n  })\r\n\r\n    // .then(res => normalizeResponseErrors(res))\r\n    // .then(res => res.json())\r\n    // .then((data) => console.log(data))\r\n    // .then(( data ) => dispatch(updateEventsInState(data)))\r\n    // .catch(err => {\r\n    //   dispatch(fetchDataError(err));\r\n    // });\r\n\r\n    // .then(res => console.log(res.json(), 'create res'))\r\n\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.statusText);\r\n      }\r\n      // return test\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      // console.log('join room data post:', data)\r\n      dispatch(getPopulatedEvent(event_id, token))\r\n      // dispatch(storeEventRoomInfo(event, event_id))\r\n\r\n    })\r\n\r\n    // .then((event) => {\r\n    //   console.log('user signin res', user)\r\n    //   storeAuthInfo(user, dispatch)\r\n    // })\r\n    .catch(err => {\r\n      console.log(err)\r\n      // dispatch(fetchErr(err));\r\n    });\r\n};\r\n\r\nexport const getPopulatedEvent = (event_id, token) => (dispatch) => {\r\n\r\n  fetch(`${API_ORIGIN}/api/events/${event_id}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      'x-auth': token\r\n    },\r\n    // body: JSON.stringify(event)\r\n  })\r\n\r\n    // .then(res => normalizeResponseErrors(res))\r\n    // .then(res => res.json())\r\n    // .then((data) => console.log(data))\r\n    // .then(( data ) => dispatch(updateEventsInState(data)))\r\n    // .catch(err => {\r\n    //   dispatch(fetchDataError(err));\r\n    // });\r\n\r\n    // .then(res => console.log(res.json(), 'create res'))\r\n\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.statusText);\r\n      }\r\n      // return test\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      // console.log('GET populate eventroom***:', data)\r\n      dispatch(storeEventRoomInfo(data))\r\n      // dispatch(storeEventRoomInfo(data))\r\n\r\n    })\r\n\r\n    // .then((event) => {\r\n    //   console.log('user signin res', user)\r\n    //   storeAuthInfo(user, dispatch)\r\n    // })\r\n    .catch(err => {\r\n      console.log(err)\r\n      // dispatch(fetchErr(err));\r\n    });\r\n\r\n}\r\n\r\n\r\n// export const createEvent = (event, token) => dispatch => {\r\n//   dispatch(authRequest());\r\n//   fetch(`${API_ORIGIN}/api/events`, {\r\n//     method: 'POST',\r\n//     headers: {\r\n//       'content-type': 'application/json',\r\n//       'x-auth': token\r\n//     },\r\n//     body: JSON.stringify(event)\r\n//   })\r\n//     .then(res => normalizeResponseErrors(res))\r\n//     .then(res => res.json())\r\n//     .then((data) => dispatch(fetchProtectedDataSuccess(data)))\r\n//     .catch(err => {\r\n//       dispatch(fetchDataError(err));\r\n//     });\r\n// };\r\n\r\n\r\n\r\n///////\r\n// export const fetchEvents = () => dispatch => {\r\n//   dispatch(request());\r\n//   fetch(`${API_ORIGIN}/videos/search/${term}`, {\r\n//     mode: \"cors\",\r\n//     headers: {\r\n//       \"Access-Control-Allow-Origin\": \"*\",\r\n//       Authorization: `Bearer ${token}`\r\n//     }\r\n//   })\r\n//     .then(res => {\r\n//       if (!res.ok) {\r\n//         return Promise.reject(res.statusText);\r\n//       }\r\n//       return res.json();\r\n//     })\r\n//     .then(res => {\r\n//       dispatch(appendResults(res.response.body));\r\n//     })\r\n//     .catch(err => {\r\n//       console.log(err);\r\n//     });\r\n// };\r\n///////\r\n\r\n\r\n\r\n\r\n\r\nexport const fetchEvents = () => (dispatch, getState) => {\r\n  const token = getState().auth.authToken;\r\n  return fetch(`${API_ORIGIN}/api/events`, {\r\n    method: 'GET',\r\n    headers: {\r\n      // Provide our auth token as credentials\r\n      'x-auth': token\r\n    }\r\n  })\r\n    .then(res => normalizeResponseErrors(res))\r\n    .then(res => res.json())\r\n    .then((data) => dispatch(fetchProtectedDataSuccess(data)))\r\n    .catch(err => {\r\n      dispatch(fetchDataError(err));\r\n    });\r\n};\r\n\r\nexport const deleteEvent = (id) => (dispatch, getState) => {\r\n  const token = getState().auth.authToken;\r\n  dispatch(authRequest());\r\n  return fetch(`${API_ORIGIN}/api/events/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      // auth token as credentials\r\n      'x-auth': token\r\n    }\r\n  })\r\n    .then(res => normalizeResponseErrors(res))\r\n    .then(res => {\r\n      console.log('delete res.json', res)\r\n      // res.json()\r\n    })\r\n    .then(() => {\r\n      console.log('delete data', id)\r\n      dispatch(deleteEventInState(id))\r\n    })\r\n    .catch(err => {\r\n      console.log('delete event err', err)\r\n      dispatch(fetchDataError(err));\r\n    });\r\n\r\n  // .then(res => {\r\n  //   if (!res.ok) {\r\n  //     return Promise.reject(res.statusText);\r\n  //   }\r\n  //   // return test\r\n  //   return res.json();\r\n  // })\r\n  // .then((data) => {\r\n  //   console.log('data:', data)\r\n  //   dispatch(deleteEventInState(data))\r\n  // })\r\n\r\n  // // .then((event) => {\r\n  // //   console.log('user signin res', user)\r\n  // //   storeAuthInfo(user, dispatch)\r\n  // // })\r\n  // .catch(err => {\r\n  //   console.log(err)\r\n  //   // dispatch(fetchErr(err));\r\n  // });\r\n};","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, withRouter, Link } from \"react-router-dom\";\r\n\r\nimport { deleteEvent, joinEventRoom, storeUserOnJoin } from '../actions/dashboard';\r\n\r\nimport \"../style/eventcard.css\";\r\n\r\nexport class EventCard extends Component {\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  onJoin = (event_id) => {\r\n    const room = this.props.events.find(event => {\r\n      return event._id === event_id\r\n    });\r\n\r\n    if (!room.password) {\r\n      this.props.joinEventRoom(room._id)\r\n      // this.props.storeUserOnJoin(this.props.userObject)\r\n\r\n      return this.props.history.push(`/events/${event_id}`)\r\n    }\r\n\r\n    let password = prompt('Please enter the password here:');\r\n    if (password === null || password === '') {\r\n      return alert('must enter a value')\r\n    } else if (password === room.password) {\r\n      this.props.joinEventRoom(room._id)\r\n      // this.props.storeUserOnJoin(this.props.userObject)\r\n\r\n\r\n      return this.props.history.push(`/events/${event_id}`)\r\n    } else {\r\n      return alert('Incorrect Password!')\r\n    }\r\n\r\n  }\r\n\r\n  onDelete = (event_id) => {\r\n    console.log(event_id)\r\n    const room = this.props.events.find(event => {\r\n      return event._id === event_id\r\n    });\r\n    if (!room.password) {\r\n      this.props.deleteEvent(event_id, this.props.token)\r\n    }\r\n    let password = prompt('Please enter the password here:');\r\n    if (password === null || password === '') {\r\n      return alert('must enter a value')\r\n    } else if (password === room.password) {\r\n      this.props.deleteEvent(event_id, this.props.token)\r\n    } else {\r\n      return alert('Incorrect Password!')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // if(!this.props.imageUrl) {\r\n    //     return <div></div>\r\n    // }\r\n    // else {\r\n    //   return <img className=\"event-card-image card-item\" src={this.props.imageUrl} height=\"175\" width=\"275\" />\r\n    // }\r\n\r\n    return (\r\n      <div className=\"event-card-container created-cards\">\r\n        <img className=\"event-card-image card-item\"\r\n          // alt={`no image set by creator for ${this.props.title}`}\r\n          src={this.props.imageUrl} height=\"175\" width=\"275\" />\r\n        <div className=\"event-card-title card-item\">{this.props.title}</div>\r\n        <div className=\"event-card-description card-item\">{this.props.description}</div>\r\n        <button className=\"card-item\" data-event-id={this.props._id} onClick={e => {\r\n          this.onJoin(e.currentTarget.getAttribute('data-event-id'))\r\n        }}>JOIN</button>\r\n        <button className=\"card-item\" data-event-id={this.props._id} onClick={e => {\r\n          this.onDelete(e.currentTarget.getAttribute('data-event-id'))\r\n        }}>DELETE</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  // const { events } = state.protected_data;\r\n  // console.log(events, 'events')\r\n  return {\r\n    token: state.auth.authToken,\r\n    events: state.protected_data.events,\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n\r\n    deleteEvent: (id, token) => dispatch(deleteEvent(id, token)),\r\n    joinEventRoom: (event_id) => dispatch(joinEventRoom(event_id)),\r\n    // storeUserOnJoin: (user) => dispatch(storeUserOnJoin(user))\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(EventCard));\r\n\r\n{/* <Link to=\"/dashboard/user\">{this.props.navbar.text}</Link> */ }","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { createEvent } from '../actions/dashboard'\r\n\r\nimport \"../style/eventcard.css\";\r\n\r\nclass CreateEvent extends Component {\r\n  state = {\r\n    imageUrl: '',\r\n    title: '',\r\n    description: '',\r\n    password: ''\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log('event create props', this.props.token)\r\n    this.props.createEvent(this.state, this.props.token)\r\n    this.setState({\r\n      imageUrl: '',\r\n      title: '',\r\n      description: '',\r\n      password: ''\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"event-create-container event-card-container\">\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"card-item create-card-heading\">Create New Event</div>\r\n          <img className=\"event-card-image card-item\"\r\n            // alt={`no image set by creator for ${this.props.title}`}\r\n            src='https://upload.wikimedia.org/wikipedia/commons/5/54/1_hallstatt_austria.jpg' height=\"175\" width=\"275\" />\r\n          <div className=\"card-item create-card-item\">\r\n            <label htmlFor=\"title\">Title:</label>\r\n            <input type=\"title\" id=\"title\" value={this.state.title} onChange={this.handleChange} />\r\n          </div>\r\n          <div className=\"card-item create-card-item\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <input type=\"description\" id=\"description\" value={this.state.description} onChange={this.handleChange} />\r\n          </div>\r\n          <div className=\"card-item create-card-item\">\r\n            <label htmlFor=\"image\">Image URL:</label>\r\n            <input type=\"description\" id=\"imageUrl\" value={this.state.imageUrl} onChange={this.handleChange} />\r\n          </div>\r\n          <div className=\"card-item create-card-item\">\r\n            <label htmlFor=\"password\">Password:</label>\r\n            <input type=\"password\" id=\"password\" value={this.state.password} onChange={this.handleChange} />\r\n          </div>\r\n          <button className=\"card-item create-card-item\">Create</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    token: state.auth.authToken\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    createEvent: (inputs, token) => dispatch(createEvent(inputs, token))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateEvent);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect, withRouter } from 'react-router-dom'\r\n\r\nimport { fetchEvents } from '../actions/dashboard';\r\n\r\nimport EventCard from './EventCard';\r\nimport EventCardCreate from './EventCardCreate';\r\n\r\n// import List from './list';\r\n// import AddForm from './add-form';\r\n\r\n// import {addList, fetchBoard} from '../actions';\r\n\r\nimport \"../style/dashboard.css\";\r\n\r\nexport class Dashboard extends React.Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n\r\n  // }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(fetchEvents());\r\n  }\r\n\r\n  // addList(title) {\r\n  //     this.props.dispatch(addList(title));\r\n  // }\r\n\r\n  render() {\r\n    if (this.props.loggedIn) {\r\n\r\n      // const lists = this.props.lists.map((list, index) => (\r\n      //     <li className=\"list-wrapper\" key={index}>\r\n      //         <List index={index} {...list} />\r\n      //     </li>\r\n      // ));\r\n\r\n      if (this.props.events !== undefined) {\r\n        const events = this.props.events.map((event, index) => (\r\n          <EventCard index={index} key={index} {...event} />\r\n        ))\r\n\r\n\r\n        return (\r\n          <div className=\"dashboard-wrapper\">\r\n            <div className=\"background-image-overlay\"></div>\r\n            <EventCardCreate />\r\n            <div className=\"eventcards-wrapper\">\r\n              {events}\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      }\r\n\r\n      // (\r\n      // <div className=\"board\">\r\n      //     <h2>{this.props.title}</h2>\r\n      //     <ul className=\"lists\">\r\n      //         {lists}\r\n      //         <li className=\"add-list-wrapper\">\r\n      //             <AddForm\r\n      //                 type=\"list\"\r\n      //                 onAdd={title => this.addList(title)}\r\n      //             />\r\n      //         </li>\r\n      //     </ul>\r\n      // </div>\r\n      // );\r\n    }\r\n    return <Redirect to=\"/signin\" />;\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\r\n  events: state.protected_data.events,\r\n  protectedData: state.protected_data.data,\r\n  loggedIn: state.auth.username !== null\r\n\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps)(withRouter(Dashboard));\r\n","import { API_ORIGIN } from '../config';\r\nimport { normalizeResponseErrors } from './utils';\r\n\r\nexport const authRequest = () => ({\r\n  type: 'AUTH_REQUEST'\r\n});\r\n\r\n\r\nexport const FETCH_SCHEDULES_SUCCESS = 'FETCH_SCHEDULES_SUCCESS';\r\nexport const fetchSchedulesSuccess = data => ({\r\n  type: FETCH_SCHEDULES_SUCCESS,\r\n  data\r\n});\r\n\r\nexport const fetchTasksSuccess = data => ({\r\n  type: 'FETCH_TASKS_SUCCESS',\r\n  data\r\n  // tasksByUser\r\n});\r\n\r\nexport const addItemToSchedule = data => ({\r\n  type: 'ADD_TO_SCHEDULE',\r\n  data\r\n});\r\n\r\nexport const addTaskToList = data => ({\r\n  type: 'ADD_TO_TASKS',\r\n  data\r\n})\r\n\r\nexport const updateTasks = data => ({\r\n  type: 'UPDATE_TASKS',\r\n  data\r\n})\r\n\r\n\r\n\r\nexport const FETCH_DATA_ERROR = 'FETCH_DATA_ERROR';\r\nexport const fetchDataError = error => ({\r\n  type: FETCH_DATA_ERROR,\r\n  error\r\n});\r\n\r\n\r\n\r\nexport const fetchSchedules = (event_id) => (dispatch, getState) => {\r\n  const token = getState().auth.authToken;\r\n  // const event_id = getState().event_room_data.event._id\r\n  return fetch(`${API_ORIGIN}/api/events/${event_id}/schedule`, {\r\n    method: 'GET',\r\n    headers: {\r\n      // Provide our auth token as credentials\r\n      'x-auth': token\r\n    }\r\n  })\r\n    .then(res => normalizeResponseErrors(res))\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n      dispatch(fetchSchedulesSuccess(data))\r\n      // fetchTasks(event_id)\r\n    })\r\n\r\n    .catch(err => {\r\n      dispatch(fetchDataError(err));\r\n    });\r\n};\r\n\r\nexport const fetchTasks = (event_id) => (dispatch, getState) => {\r\n  const token = getState().auth.authToken;\r\n  // const event_id = getState().event_room_data.event._id\r\n  return fetch(`${API_ORIGIN}/api/events/${event_id}/tasks`, {\r\n    method: 'GET',\r\n    headers: {\r\n      // Provide our auth token as credentials\r\n      'x-auth': token\r\n    }\r\n  })\r\n    .then(res => normalizeResponseErrors(res))\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n      // console.log('TASKS DATA DATA TASKS', data)\r\n      // console.log('DATA from Tasks fetch', data)\r\n      // const Users = [...new Set(data.map(task => task.user.username))]\r\n      // console.log('USERS:::', Users)\r\n      // const tasksByUser = Users.map(user => {\r\n      //   return data.filter(task => task.user.username === user)\r\n      // })\r\n      // console.log('DATA from Tasks fetch', tasksByUser)\r\n      // dispatch(fetchTasksSuccess(tasksByUser))\r\n      dispatch(fetchTasksSuccess(data))\r\n    })\r\n    .catch(err => {\r\n      dispatch(fetchDataError(err));\r\n    });\r\n};\r\n\r\nexport const createSchedule = (inputs) => (dispatch, getState) => {\r\n  const token = getState().auth.authToken;\r\n  const event_id = getState().event_room.eventID;\r\n  // console.log('inputs:', inputs, 'eventID:', event_id, 'token:', token)\r\n  fetch(`${API_ORIGIN}/api/events/${event_id}/schedule`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      'x-auth': token\r\n    },\r\n    body: JSON.stringify(inputs)\r\n\r\n  })\r\n\r\n    // .then(res => normalizeResponseErrors(res))\r\n    // .then(res => res.json())\r\n    // .then((data) => console.log(data))\r\n    // .then((data) => dispatch(addItemToSchedule(data)))\r\n    // .catch(err => {\r\n    //   dispatch(fetchDataError(err));\r\n    // });\r\n\r\n    // .then(res => console.log(res.json(), 'create res'))\r\n\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.statusText);\r\n      }\r\n      // return test\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      // console.log('DATA DATA TASKS', data)\r\n      dispatch(addItemToSchedule(data))\r\n    })\r\n\r\n    // .then((event) => {\r\n    //   console.log('user signin res', user)\r\n    //   storeAuthInfo(user, dispatch)\r\n    // })\r\n    .catch(err => {\r\n      console.log(err)\r\n      // dispatch(fetchErr(err));\r\n    });\r\n};\r\n\r\nexport const createTask = (inputs) => (dispatch, getState) => {\r\n  const token = getState().auth.authToken;\r\n  const event_id = getState().event_room.eventID;\r\n\r\n  console.log('inputs:', inputs)\r\n  fetch(`${API_ORIGIN}/api/events/${event_id}/tasks/user/${inputs.user}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      'x-auth': token\r\n    },\r\n    body: JSON.stringify(inputs)\r\n\r\n  })\r\n\r\n    // .then(res => normalizeResponseErrors(res))\r\n    // .then(res => res.json())\r\n    // .then((data) => console.log(data))\r\n    // .then((data) => dispatch(addItemToSchedule(data)))\r\n    // .catch(err => {\r\n    //   dispatch(fetchDataError(err));\r\n    // });\r\n\r\n    // .then(res => console.log(res.json(), 'create res'))\r\n\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.statusText);\r\n      }\r\n      // return test\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      console.log('Task DATA dispatching to store:', data)\r\n      dispatch(addTaskToList(data))\r\n    })\r\n\r\n    // .then((event) => {\r\n    //   console.log('user signin res', user)\r\n    //   storeAuthInfo(user, dispatch)\r\n    // })\r\n    .catch(err => {\r\n      console.log(err)\r\n      // dispatch(fetchErr(err));\r\n    });\r\n};\r\n\r\n\r\nexport const updateTask = (task_id, completion, details) => (dispatch, getState) => {\r\n  const token = getState().auth.authToken;\r\n  const event_id = getState().event_room.eventID;\r\n  console.log('inputs:', completion, 'taskID:', task_id, event_id)\r\n  fetch(`${API_ORIGIN}/api/events/${event_id}/tasks/${task_id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      'x-auth': token\r\n    },\r\n    body: JSON.stringify({\r\n      \"completed\": completion,\r\n      \"taskDetails\": details\r\n    })\r\n\r\n  })\r\n\r\n    // .then(res => normalizeResponseErrors(res))\r\n    // .then(res => res.json())\r\n    // .then((data) => console.log(data))\r\n    // .then((data) => dispatch(addItemToSchedule(data)))\r\n    // .catch(err => {\r\n    //   dispatch(fetchDataError(err));\r\n    // });\r\n\r\n    // .then(res => console.log(res.json(), 'create res'))\r\n\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.statusText);\r\n      }\r\n      // return test\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      console.log('TASK PUT DATA', data)\r\n      dispatch(updateTasks(data))\r\n    })\r\n\r\n    // .then((event) => {\r\n    //   console.log('user signin res', user)\r\n    //   storeAuthInfo(user, dispatch)\r\n    // })\r\n    .catch(err => {\r\n      console.log(err)\r\n      // dispatch(fetchErr(err));\r\n    });\r\n};","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { updateTask } from '../actions/event-room'\r\n\r\nimport \"../style/tasks.css\";\r\n\r\nclass UserTasks extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      checkBox: props.completed\r\n    }\r\n\r\n  }\r\n\r\n\r\n  handleCheckBox = (e) => {\r\n    console.log('checkbox', this.state.checkBox)\r\n    this.setState({ [e.target.id]: !this.props.completed }, () => {\r\n      this.props.updateTask(this.props._id, this.state.checkBox, this.props.taskDetails);\r\n    })\r\n\r\n    // setTimeout(() => console.log(this.state), 2000)\r\n    // this.props.updateTask(this.props._id, this.state.checkBox, this.props.taskDetails);\r\n  }\r\n\r\n  render() {\r\n    // const users = this.props.user\r\n    // console.log('TASKS comp props', this.props)\r\n\r\n    // let taskCheckBox;\r\n    // if (this.props.completed) {\r\n    //   this.setState({\r\n    //     checkBox: true\r\n    //   })\r\n    //   let taskCheckBox = <input type=\"checkbox\" id=\"checkBox\" checked onChange={this.handleCheckBox}></input>\r\n    // } else {\r\n    //   this.setState({\r\n    //     checkBox: false\r\n    //   })\r\n    //   let taskCheckBox = <input type=\"checkbox\" id=\"checkBox\" onChange={this.handleCheckBox}></input>\r\n    // }\r\n\r\n\r\n    const taskCheckBox = <input type=\"checkbox\" id=\"checkBox\" checked={this.state.checkBox} onChange={this.handleCheckBox}></input>\r\n    // console.log('checkbox', checkbox.checked)\r\n    // if (taskCheckBox !== undefined) {\r\n    return (\r\n      <div>\r\n        {taskCheckBox}\r\n        {this.props.taskDetails}\r\n      </div>\r\n    )\r\n  }\r\n  //   return (\r\n  //     <div>\r\n  //       loading...\r\n  //   </div>\r\n  //   )\r\n\r\n  // }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateTask: (id, checked, details) => dispatch(updateTask(id, checked, details))\r\n  }\r\n}\r\n\r\n// export default UserTasks;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserTasks);\r\n","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\n\r\nimport UserTasks from './UserTasks';\r\n\r\nimport \"../style/eventroom.css\";\r\nimport \"../style/tasks.css\";\r\n\r\nclass Tasks extends Component {\r\n\r\n  // onDelete(event_id) {\r\n  //   console.log(event_id)\r\n  //   this.props.deleteEvent(event_id, this.props.token)\r\n  // }\r\n\r\n  render() {\r\n    // const users = this.props.user\r\n    // console.log('TASKS props', this.props)\r\n\r\n    // const Users = [...new Set(data.map(task => task.user.username))]\r\n    // // console.log('USERS:::', Users)\r\n    // const tasksByUser = Users.map(user => {\r\n    //   return data.filter(task => task.user.username === user)\r\n    // })\r\n\r\n\r\n    //////////\r\n    const tasks = this.props.tasks.map((task, index) => (\r\n      <UserTasks index={index} key={index} {...task} />\r\n    ))\r\n    //////////\r\n    // console.log(\"User's Tasks props:\", this.props.tasks)\r\n    return (\r\n      <div className=\"user-tasks\">\r\n        <div className=\"tasks-username\">{this.props.tasks[0].user.username}</div>\r\n        {tasks}\r\n        {/* <button className=\"card-item\" data-event-id={this.props._id} onClick={e => {\r\n          console.log(e.currentTarget.getAttribute('data-event-id'))\r\n          this.onDelete(e.currentTarget.getAttribute('data-event-id'))\r\n        }}>Delete Completed</button> */}\r\n        <button>Clear completed</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // return {\r\n\r\n  // token: state.auth.authToken,\r\n  // events: state.protected_data.events,\r\n  // userID: state.auth.userID\r\n  // protectedData: state.protected_data.data\r\n  // }\r\n})\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   // return {\r\n//   //   deleteEvent: (id, token) => dispatch(deleteEvent(id, token)),\r\n//   //   joinEventRoom: (event_id) => dispatch(joinEventRoom(event_id))\r\n//   // }\r\n// }\r\n\r\nexport default connect(mapStateToProps)(Tasks);\r\n","import React from 'react';\r\n\r\nexport default class ScheduleInput extends React.Component {\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (!prevProps.meta.active && this.props.meta.active) {\r\n            this.input.focus();\r\n        }\r\n    }\r\n    render() {\r\n        const Element = this.props.element || 'input';\r\n\r\n        let error;\r\n        if (this.props.meta.touched && this.props.meta.error) {\r\n            error = <div className=\"form-error\">{this.props.meta.error}</div>;\r\n        }\r\n\r\n        let warning;\r\n        if (this.props.meta.touched && this.props.meta.warning) {\r\n            warning = (\r\n                <div className=\"form-warning\">{this.props.meta.warning}</div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"form-input\">\r\n                <label htmlFor={this.props.input.name}>\r\n                    {this.props.label}\r\n                    {error}\r\n                    {warning}\r\n                </label>\r\n                <Element\r\n                    {...this.props.input}\r\n                    id={this.props.input.name}\r\n                    type={this.props.type}\r\n                    ref={input => (this.input = input)}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","export const required = value => (value ? undefined : 'Required');\r\nexport const nonEmpty = value =>\r\n    value.trim() !== '' ? undefined : 'Cannot be empty';\r\n// Uses a regular expression (regex) to check whether it looks enough like an\r\n// email address.  Broken down:\r\n// ^ Matches the start the text\r\n// \\S+ Matches one or more non-whitespace characters before the @\r\n// @ A literal at sign\r\n// \\S+ Matches one or more non-whitespace characters after the @\r\n// $ Matches the end of the text\r\nexport const email = value =>\r\n    /^\\S+@\\S+$/.test(value) ? undefined : 'Must be a valid email address';\r\n","import { API_ORIGIN } from '../config';\r\nimport { normalizeResponseErrors } from './utils';\r\n\r\nexport const updateSchedule = data => ({\r\n  type: 'UPDATE_SCHEDULE',\r\n  data\r\n})\r\n\r\nexport const deleteScheduleInState = data => ({\r\n  type: 'DELETE_SCHEDULE',\r\n  data\r\n})\r\n\r\nexport const scheduleUpdate = (inputs, schedule_id) => (dispatch, getState) => {\r\n  const token = getState().auth.authToken;\r\n  const event_id = getState().event_room.eventID;\r\n  // console.log('inputs:', completion, 'taskID:', task_id, event_id)\r\n  fetch(`${API_ORIGIN}/api/events/${event_id}/schedule/${schedule_id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      'x-auth': token\r\n    },\r\n    body: JSON.stringify({\r\n      'date': inputs.Date,\r\n      'details': inputs.Details,\r\n      'location': inputs.Location\r\n    })\r\n\r\n\r\n  })\r\n\r\n    // .then(res => normalizeResponseErrors(res))\r\n    // .then(res => res.json())\r\n    // .then((data) => console.log(data))\r\n    // .then((data) => dispatch(addItemToSchedule(data)))\r\n    // .catch(err => {\r\n    //   dispatch(fetchDataError(err));\r\n    // });\r\n\r\n    // .then(res => console.log(res.json(), 'create res'))\r\n\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.statusText);\r\n      }\r\n      // return test\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      console.log('Schedule PUT DATA', data)\r\n      dispatch(updateSchedule(data))\r\n    })\r\n\r\n    // .then((event) => {\r\n    //   console.log('user signin res', user)\r\n    //   storeAuthInfo(user, dispatch)\r\n    // })\r\n    .catch(err => {\r\n      console.log(err)\r\n      // dispatch(fetchErr(err));\r\n    });\r\n};\r\n\r\nexport const scheduleDelete = (id) => (dispatch, getState) => {\r\n  const token = getState().auth.authToken;\r\n  // dispatch(authRequest());\r\n  return fetch(`${API_ORIGIN}/api/events/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      // auth token as credentials\r\n      'x-auth': token\r\n    }\r\n  })\r\n    .then(res => normalizeResponseErrors(res))\r\n    .then(res => {\r\n      console.log('delete res.json', res)\r\n      // res.json()\r\n    })\r\n    .then(() => {\r\n      console.log('delete data', id)\r\n      dispatch(deleteScheduleInState(id))\r\n    })\r\n    .catch(err => {\r\n      console.log('delete event err', err)\r\n      // dispatch(fetchDataError(err));\r\n    });\r\n};","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm, Field, SubmissionError, focus } from 'redux-form';\r\nimport ScheduleInput from './ScheduleInput';\r\nimport { required, nonEmpty, email } from '../validators';\r\nimport { Redirect, withRouter } from 'react-router-dom'\r\n\r\nimport editIcon from '../style/assets/baseline-edit-24px.svg'\r\nimport cancelIcon from '../style/assets/iconfinder_cancel_326554.svg'\r\nimport deleteIcon from '../style/assets/icons8-delete-bin-24.png'\r\nimport { scheduleUpdate, scheduleDelete } from '../actions/schedule';\r\n\r\nimport moment from 'moment'\r\n\r\nimport \"../style/schedule.css\";\r\nimport { set } from 'mongoose';\r\n\r\nexport class Schedule extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      date: null,\r\n      details: '',\r\n      location: '',\r\n      edit: false\r\n    }\r\n\r\n  }\r\n\r\n  onSubmit(values) {\r\n    return fetch('/api/messages', {\r\n      method: 'POST',\r\n      body: JSON.stringify(values),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) {\r\n          if (\r\n            res.headers.has('content-type') &&\r\n            res.headers\r\n              .get('content-type')\r\n              .startsWith('application/json')\r\n          ) {\r\n            // It's a nice JSON error returned by us, so decode it\r\n            return res.json().then(err => Promise.reject(err));\r\n          }\r\n          // It's a less informative error returned by express\r\n          return Promise.reject({\r\n            code: res.status,\r\n            message: res.statusText\r\n          });\r\n        }\r\n        return;\r\n      })\r\n      .then(() => console.log('Submitted with values', values))\r\n      .catch(err => {\r\n        const { reason, message, location } = err;\r\n        if (reason === 'ValidationError') {\r\n          // Convert ValidationErrors into SubmissionErrors for Redux Form\r\n          return Promise.reject(\r\n            new SubmissionError({\r\n              [location]: message\r\n            })\r\n          );\r\n        }\r\n        return Promise.reject(\r\n          new SubmissionError({\r\n            _error: 'Error submitting message'\r\n          })\r\n        );\r\n      });\r\n  }\r\n\r\n  handleScheduleEdit = () => {\r\n    this.setState({ edit: !this.state.edit })\r\n  }\r\n\r\n  handleScheduleUpdate = (values) => {\r\n    this.props.dispatch(scheduleUpdate(values, this.props._id))\r\n    this.setState({\r\n      date: null,\r\n      details: '',\r\n      location: '',\r\n    })\r\n  }\r\n\r\n  handleScheduleDelete = () => {\r\n    this.props.dispatch(scheduleDelete(this.props._id))\r\n  }\r\n\r\n  render() {\r\n\r\n    let successMessage;\r\n    if (this.props.submitSucceeded) {\r\n      successMessage = (\r\n        <div className=\"message message-success\">\r\n          Message submitted successfully\r\n              </div>\r\n      );\r\n    }\r\n\r\n    let errorMessage;\r\n    if (this.props.error) {\r\n      errorMessage = (\r\n        <div className=\"message message-error\">{this.props.error}</div>\r\n      );\r\n    }\r\n\r\n    // console.log('schedule state', this.state)\r\n    //schedule item editing button displays a 'pencil' to edit if not true or an 'x' to cancel <span>&#x2718;</span> : <span>&#x270E;</span>\r\n    let editButton = this.state.edit ? <img src={cancelIcon} alt=\"cancel\" /> : <img src={editIcon} alt=\"edit\" />\r\n\r\n    let editSchedule = this.state.edit ?\r\n      // <ul>\r\n      //   <ul className=\"schedule-parent-date\">\r\n      //     <li className=\"schedule-item schedule-date\">{moment(this.props.date).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")}</li>\r\n      //     <li className=\"schedule-item schedule-location\">{this.props.location}</li>\r\n      //   </ul>\r\n      //   <li className=\"schedule-item schedule-details\">{this.props.details}</li>\r\n      // </ul>\r\n      <form\r\n        onSubmit={this.props.handleSubmit(values =>\r\n          this.handleScheduleUpdate(values)\r\n          // .then(() => {resetForm();})\r\n        )}>\r\n        {successMessage}\r\n        {errorMessage}\r\n        <Field\r\n          name=\"Date\"\r\n          type=\"datetime-local\"\r\n          component={ScheduleInput}\r\n          label=\"Date:\"\r\n          validate={[required, nonEmpty]}\r\n        />\r\n        <Field\r\n          name=\"Location\"\r\n          type=\"text\"\r\n          component={ScheduleInput}\r\n          label=\"Location:\"\r\n          value placholder=\"location...\"\r\n          validate={[required, nonEmpty]}\r\n        />\r\n        <Field\r\n          name=\"Details\"\r\n          type=\"text\"\r\n          component={ScheduleInput}\r\n          label=\"Details:\"\r\n          validate={[required, nonEmpty]}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          disabled={this.props.pristine || this.props.submitting}>\r\n          Save\r\n            </button>\r\n      </form>\r\n      :\r\n      null;\r\n\r\n    return (\r\n      <div className=\"schedule-wrapper\">\r\n\r\n        <ul className=\"schedule-parent-date\">\r\n          <li className=\"schedule-item schedule-date\">{moment(this.props.date).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")}</li>\r\n          <div className=\"edit-schedule-button\" onClick={this.handleScheduleEdit}>{editButton}</div>\r\n          <div className=\"delete-schedule-button\" onClick={this.handleScheduleDelete}><img src={deleteIcon} alt=\"delete\" /></div>\r\n        </ul>\r\n\r\n        <ul className=\"schedule-parent-details\">\r\n          <li className=\"schedule-item schedule-location\">{this.props.location}</li>\r\n          <li className=\"schedule-item schedule-details\">{this.props.details}</li>\r\n        </ul>\r\n\r\n        <div className=\"edit-schedule\">{editSchedule}</div>\r\n\r\n      </div>\r\n\r\n\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // return {\r\n\r\n  // token: state.auth.authToken,\r\n  // events: state.protected_data.events,\r\n  // userID: state.auth.userID\r\n  // protectedData: state.protected_data.data\r\n  // }\r\n})\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   // return {\r\n//   //   deleteEvent: (id, token) => dispatch(deleteEvent(id, token)),\r\n//   //   joinEventRoom: (event_id) => dispatch(joinEventRoom(event_id))\r\n//   // }\r\n// }\r\n\r\nSchedule = connect(mapStateToProps)(Schedule);\r\n\r\nexport default reduxForm({\r\n  form: 'schedule'\r\n})(Schedule);\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, withRouter } from 'react-router-dom'\r\n\r\nexport class Chat extends Component {\r\n\r\n\r\n  render() {\r\n\r\n\r\n    return (\r\n      <div className=\"chat-text\">\r\n        chat div\r\n        </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // return {\r\n\r\n  // token: state.auth.authToken,\r\n  // events: state.protected_data.events,\r\n  // userID: state.auth.userID\r\n  // protectedData: state.protected_data.data\r\n  // }\r\n})\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   // return {\r\n//   //   deleteEvent: (id, token) => dispatch(deleteEvent(id, token)),\r\n//   //   joinEventRoom: (event_id) => dispatch(joinEventRoom(event_id))\r\n//   // }\r\n// }\r\n\r\nexport default connect(mapStateToProps)(Chat);\r\n// export default Schedule;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { createSchedule } from '../actions/event-room'\r\n\r\nimport \"../style/schedule.css\";\r\nimport \"../style/schedulecreate.css\";\r\n\r\nclass ScheduleCreate extends Component {\r\n  state = {\r\n    date: '',\r\n    details: '',\r\n    location: ''\r\n  }\r\n\r\n  handleScheduleChange = (e) => {\r\n\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    })\r\n    console.log(this.state)\r\n  }\r\n\r\n  handleScheduleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.date === '' || this.state.description === '') {\r\n      return alert('Date, Time, and Description cannot be blank')\r\n    }\r\n    this.props.createSchedule(this.state);\r\n    this.setState({\r\n      date: '',\r\n      details: '',\r\n      location: ''\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const currentDate = new Date().toISOString().split('.')[0];\r\n    // console.log('this is current date', currentDate)\r\n\r\n    return (\r\n      <div>\r\n        <form className=\"schedule-create-container\" onSubmit={this.handleScheduleSubmit}>\r\n          {/* <h2>Add Item to the Schedule</h2> */}\r\n          <ul className=\"schedule-create-inputs\">\r\n            <li>\r\n              <label htmlFor=\"location\">Location</label>\r\n              <input type=\"text\" id=\"location\" className=\"schedule-inputs\"\r\n                onChange={this.handleScheduleChange}\r\n                placeholder=\"Location: e.g., place &amp; city\"\r\n                value={this.state.location} />\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"date\">Date</label>\r\n              <input type=\"datetime-local\" id=\"date\" className=\"schedule-inputs\"\r\n                // defaultValue={currentDate}\r\n                value={this.state.date}\r\n                onChange={this.handleScheduleChange} />\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"details\">Details</label>\r\n              <input type=\"text\" id=\"details\" className=\"schedule-inputs\"\r\n                value={this.state.details}\r\n                onChange={this.handleScheduleChange}\r\n                placeholder=\"details of activity, place, etc...\" />\r\n            </li>\r\n          </ul>\r\n          <button>Add Item to the Schedule</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    // eventID: state.event_room.eventID\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    createSchedule: (inputs, token) => dispatch(createSchedule(inputs, token))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ScheduleCreate);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { createTask } from '../actions/event-room'\r\n\r\nimport \"../style/taskcreate.css\";\r\n\r\nclass TaskCreate extends Component {\r\n  state = {\r\n    taskDetails: '',\r\n    user: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    // if (this.props.users !== undefined) {\r\n    //   this.setState({ user: this.props.users[0]._id })\r\n    // }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    if (this.state.user === '') {\r\n      this.setState({\r\n        user: this.props.users[0]._id\r\n      })\r\n    }\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    })\r\n    console.log('state', this.state)\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.taskDetails === '') {\r\n      return alert('Description cannot be blank')\r\n    }\r\n    this.props.createTask(this.state);\r\n    this.setState({\r\n      taskDetails: ''\r\n    })\r\n  }\r\n\r\n  render() {\r\n    if (this.props.users !== undefined) {\r\n      // console.log('USERS in room:', this.props.users)\r\n      const selection = this.props.users.map((user, index) => {\r\n        return (\r\n          <option key={index} id={user} value={user._id}>{user.username}</option>\r\n        )\r\n\r\n      })\r\n\r\n\r\n\r\n\r\n      return (\r\n        <form className=\"task-form\" onSubmit={this.handleSubmit}>\r\n          <div className=\"create-task-heading\">Create New *TASK*</div>\r\n\r\n          <div className=\"select-user\">\r\n            {/* <h2>Select User:</h2> */}\r\n            <select id=\"user\" onChange={this.handleChange}>\r\n              {selection}\r\n            </select >\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"taskDetails\">\r\n              {/* Description: */}\r\n            </label>\r\n            <textarea className=\"desc-input\" value={this.state.taskDetails} placeholder=\"e.g., research accomodations, restaurants, sites, museums, etc...\" type=\"text\" id=\"taskDetails\" rows=\"5\" onChange={this.handleChange}></textarea>\r\n          </div>\r\n          {/* <div>\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input type=\"password\" id=\"password\" onChange={this.handleChange} />\r\n            </div> */}\r\n          <button>Create</button>\r\n        </form>\r\n      )\r\n    }\r\n    return (<div>Loading...</div>)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.event_room.event.users,\r\n    token: state.auth.authToken\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    createTask: (inputs, token) => dispatch(createTask(inputs, token))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskCreate)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect, withRouter } from 'react-router-dom';\r\n\r\nimport { fetchSchedules, fetchTasks } from '../actions/event-room';\r\n\r\nimport Tasks from './Tasks';\r\nimport Schedule from './Schedule';\r\nimport Chat from './Chat';\r\nimport ScheduleCreate from './ScheduleCreate';\r\nimport TaskCreate from './TaskCreate';\r\n\r\n\r\n\r\nimport \"../style/eventroom.css\";\r\nimport \"../style/schedule.css\";\r\nimport \"../style/tasks.css\";\r\nimport \"../style/taskcreate.css\";\r\n\r\nexport class EventRoom extends React.Component {\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params\r\n    this.props.dispatch(fetchSchedules(id));\r\n    this.props.dispatch(fetchTasks(id));\r\n  }\r\n\r\n  render() {\r\n    if (this.props.loggedIn && this.props.tasks !== undefined) {\r\n\r\n      const schedules = this.props.schedules.map((schedule, index) => (\r\n        <Schedule index={index} key={index} {...schedule} />\r\n      ))\r\n\r\n      //Create an array of unique users\r\n      const Users = [...new Set(this.props.tasks.map(task => task.user.username))]\r\n      //Return an array of tasks for each unique user\r\n      const tasksByUser = Users.map(user => {\r\n        return this.props.tasks.filter(task => task.user.username === user)\r\n      })\r\n\r\n      const allTasks = tasksByUser.map((items, index) => (\r\n        <Tasks index={index} key={index} tasks={items} />\r\n      ))\r\n\r\n      return (\r\n        <div className=\"event-room-container\">\r\n          <h1 className=\"event-title\">{this.props.event.title}</h1>\r\n\r\n          <div className=\"event-room-wrapper\">\r\n\r\n            <div className=\"tasks-container\">\r\n              <div className=\"tasks-wrapper\">{allTasks}</div>\r\n              <div className=\"task-create-wrapper\">\r\n                <TaskCreate />\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"schedule-container\">\r\n              {/* <ul className=\"schedule-headings\"> */}\r\n              {/* <li className=\"schedule-location\">Location:</li> */}\r\n              {/* <li className=\"schedule-date\">Date:</li> */}\r\n              {/* <li className=\"schedule-details\">Details:</li> */}\r\n              {/* </ul> */}\r\n              {schedules}\r\n              <ScheduleCreate />\r\n            </div>\r\n\r\n            <div className=\"chat-wrapper\"><Chat /></div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      )\r\n    }\r\n    return <Redirect to=\"/signin\" />;\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // const event = state.event_room.event\r\n  // console.log('correct event iD?', event)\r\n  // return {\r\n  // events: state.protected_data.events,\r\n  loading: state.event_room.loading,\r\n  eventID: state.event_room.eventID,\r\n  event: state.event_room.event,\r\n  schedules: state.event_room.schedules,\r\n  tasks: state.event_room.tasks,\r\n  protectedData: state.protected_data.data,\r\n  loggedIn: state.auth.username !== null\r\n  // }\r\n})\r\n\r\nexport default connect(mapStateToProps)(withRouter(EventRoom));","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { signin } from '../../actions'\r\n\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport \"../../style/auth.css\";\r\n\r\nclass SignIn extends Component {\r\n  state = {\r\n    email: '',\r\n    password: ''\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n\r\n    this.props.signin(this.state);\r\n    this.setState({ email: '', password: '' });\r\n  }\r\n\r\n  render() {\r\n    if (this.props.loggedIn) {\r\n      return <Redirect to=\"/dashboard\" />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"auth-container\">\r\n        <form className=\"auth-form\" onSubmit={this.handleSubmit}>\r\n          <div>Login In heading</div>\r\n          <div className=\"auth-item\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input type=\"email\" id=\"email\" value={this.state.email} onChange={this.handleChange} />\r\n          </div>\r\n          <div className=\"auth-item\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" id=\"password\" value={this.state.password} onChange={this.handleChange} />\r\n          </div>\r\n          <button className=\"auth-item\">Login</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedIn: state.auth.username !== null\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  signin: (user) => dispatch(signin(user))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { signup } from '../../actions'\r\n\r\nimport \"../../style/auth.css\";\r\n\r\nclass SignUp extends Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    username: ''\r\n  }\r\n  // }\r\n\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(this.state)\r\n    // const user = {\r\n    //   email: this.state.email,\r\n    //   password: this.state.password,\r\n    //   username: this.state.username\r\n    // };\r\n    // this.props.dispatch(signup(this.state));\r\n    this.props.signup(this.state);\r\n    // signup(user)\r\n    this.setState({ email: '', password: '', username: '' });\r\n    return <Redirect to='/signin' />;\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"auth-container\">\r\n        <form className=\"auth-form\" onSubmit={this.handleSubmit}>\r\n          <div>Sign Up heading</div>\r\n          <div className=\"auth-item\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input type=\"email\" id=\"email\" value={this.state.email} onChange={this.handleChange} />\r\n          </div>\r\n          <div className=\"auth-item\">\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input type=\"username\" id=\"username\" value={this.state.username} onChange={this.handleChange} />\r\n          </div>\r\n          <div className=\"auth-item\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" id=\"password\" value={this.state.password} onChange={this.handleChange} />\r\n          </div>\r\n          <button className=\"auth-item\">Sign-up</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signup: (user) => dispatch(signup(user))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp)\r\n","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport Navbar from './components/layout/Navbar';\r\nimport Footer from './components/layout/Footer';\r\nimport Landing from './components/Landing';\r\nimport Dashboard from './components/Dashboard';\r\nimport EventRoom from './components/EventRoom';\r\nimport SignIn from './components/auth/SignIn';\r\nimport SignUp from './components/auth/SignUp';\r\n\r\nimport { refreshAuthToken } from './actions';\r\n\r\n\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\n\r\n\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.loggedIn && this.props.loggedIn) {\r\n      // When we are logged in, refresh the auth token periodically\r\n      this.startPeriodicRefresh();\r\n    } else if (prevProps.loggedIn && !this.props.loggedIn) {\r\n      // Stop refreshing when we log out\r\n      this.stopPeriodicRefresh();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.stopPeriodicRefresh();\r\n  }\r\n\r\n  startPeriodicRefresh() {\r\n    this.refreshInterval = setInterval(\r\n      () => this.props.dispatch(refreshAuthToken()),\r\n      60 * 60 * 1000 // One hour\r\n    );\r\n  }\r\n\r\n  stopPeriodicRefresh() {\r\n    if (!this.refreshInterval) {\r\n      return;\r\n    }\r\n\r\n    clearInterval(this.refreshInterval);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <div className=\"root-container\">\r\n          <header className=\"App-header\">\r\n            <Navbar />\r\n          </header>\r\n          <main>\r\n            <Switch>\r\n              <Route exact path='/' component={Landing} />\r\n              <Route path='/dashboard' component={Dashboard} />\r\n              <Route exact path='/events/:id' component={EventRoom} />\r\n              <Route path='/signin' component={SignIn} />\r\n              <Route path='/signup' component={SignUp} />\r\n            </Switch>\r\n          </main>\r\n          <footer>\r\n            <Footer />\r\n          </footer>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  hasAuthToken: state.auth.authToken !== null,\r\n  loggedIn: state.auth.username !== null\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nimport './style/reset.css';\n\nimport App from './App';\n\nimport './index.css';\n\nimport * as serviceWorker from \"./serviceWorker\";\n\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();"],"sourceRoot":""}