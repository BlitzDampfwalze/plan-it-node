(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},17:function(e,t){t.API_ORIGIN=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_ORIGIN||"http://localhost:3002"},182:function(e,t,n){},189:function(e,t,n){e.exports=n(376)},259:function(e,t,n){},264:function(e,t,n){},266:function(e,t,n){},269:function(e,t,n){},371:function(e,t,n){},373:function(e,t,n){},376:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(183),o=n.n(c),i=n(3),s=n(14),l=n(185),u=n(382),h=function(){return localStorage.getItem("authToken")},d=n(16),m=n(186),p=n.n(m),f=n(17),v=function(e){return e.ok?e:e.headers.has("content-type")&&e.headers.get("content-type").startsWith("application/json")?e.json().then(function(e){return Promise.reject(e)}):Promise.reject({code:e.status,message:e.statusText})},E=n(377),g=function(e){return{type:"SET_AUTH_TOKEN",authToken:e}},b=function(e,t){p()(e.token);t(g(e.token)),t({type:"AUTH_SUCCESS",currentUser:e}),function(e){try{localStorage.setItem("authToken",e)}catch(t){}}(e.token)},O=function(){return function(e,t){e({type:"AUTH_REQUEST"});var n=h();return fetch("".concat(f.API_ORIGIN,"/api/users/refresh"),{method:"POST",headers:{"x-auth":n}}).then(function(e){return v(e)}).then(function(e){return e.json()}).then(function(t){console.log("refresh token",t),b(t,e)}).catch(function(t){e({type:"AUTH_ERROR",error:t})})}},j=n(31),y={authToken:null,userObject:null,username:null,userID:"",error:null},k=n(39),T={data:"",error:null,events:[]},S=n(121),C=n.n(S),_={loading:!1,eventID:"",event:{},error:null,schedules:[],tasks:[]},N=Object(s.d)(Object(s.c)({navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"hello"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HEADER":return Object(j.a)({},e,{text:t.text});default:return e}},protected_data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENT":return Object(j.a)({},e,{events:[].concat(Object(k.a)(e.events),[t.data])});case"DELETE_EVENT":var n=e.events.filter(function(e){return e._id!==t.data});return Object(j.a)({},e,{events:n});case"FETCH_PROTECTED_DATA_SUCCESS":return Object.assign({},e,{events:t.data,error:null});case"FETCH_DATA_ERROR":return Object.assign({},e,{error:t.error});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_AUTH":return Object.assign({},e,{authToken:null,userObject:null,username:null,userID:""});case"SET_AUTH_TOKEN":return Object.assign({},e,{authToken:t.authToken,loading:!1});case"AUTH_SUCCESS":return Object.assign({},e,{loading:!1,userObject:t.currentUser,username:t.currentUser.username,userID:t.currentUser.id});case"AUTH_REQUEST":return Object.assign({},e,{loading:!0,error:null});case"AUTH_ERROR":return Object.assign({},e,{loading:!1,error:t.error});default:return e}},event_room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST":return Object.assign({},e,{loading:!0});case"SET_EVENT":return Object.assign({},e,{event:t.data,eventID:t.data._id,loading:!1});case"FETCH_SCHEDULES_SUCCESS":return Object.assign({},e,{schedules:t.data,error:null});case"ADD_TO_SCHEDULE":return Object(j.a)({},e,{schedules:[].concat(Object(k.a)(e.schedules),[t.data])});case"ADD_TO_TASKS":return Object(j.a)({},e,{tasks:[].concat(Object(k.a)(e.tasks),[t.data])});case"UPDATE_TASKS":var n=t.data._id,a=e.tasks.map(function(e){return e._id===n&&(e.completed=!e.completed),e});return Object(j.a)({},e,{tasks:a});case"UPDATE_SCHEDULE":var r=e.schedules.map(function(e){return e._id===t.data._id&&(e=t.data),e});return Object(j.a)({},e,{schedules:r});case"FETCH_TASKS_SUCCESS":return Object.assign({},e,{tasks:t.data,error:null});case"FETCH_DATA_ERROR":return Object.assign({},e,{error:t.error});default:return e}},form:u.a}),Object(s.a)(l.a)),I=h();if(I){var D=I;N.dispatch(g(D)),N.dispatch(O())}var A=N,w=(n(259),n(5)),P=n(6),U=n(8),R=n(7),x=n(9),H=n(385),L=(n(88),function(e){function t(){return Object(w.a)(this,t),Object(U.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"logOut",value:function(){this.props.dispatch({type:"CLEAR_AUTH"}),function(){try{localStorage.removeItem("authToken")}catch(e){}}()}},{key:"render",value:function(){var e,t=this;return this.props.loggedIn&&(e=r.a.createElement(H.a,{onClick:function(){return t.logOut()},to:"/"},"Log Out")),r.a.createElement("ul",null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(H.a,{to:"/"},"About")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(H.a,{to:"/dashboard"},"Dashboard")),r.a.createElement("li",{className:"nav-item"},e))}}]),t}(r.a.Component)),F=Object(i.b)(function(e){return{loggedIn:null!==e.auth.username}})(L),G=Object(i.b)(function(e){return{loggedIn:null!==e.auth.username}})(function(){return r.a.createElement("ul",null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(H.a,{to:"/"},"About")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(H.a,{to:"/signin"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(H.a,{to:"/signup"},"Sign-up")))}),B=n(384),J=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(U.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).handleLogoClick=function(){console.log("handleLogoClick"),n.props.history.push("/")},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props.loggedIn?r.a.createElement(F,null):r.a.createElement(G,null);return r.a.createElement("nav",{className:"nav-wrapper"},r.a.createElement("div",{className:"nav-left nav-item",onClick:this.handleLogoClick},"Plan-it"),r.a.createElement("div",{className:"nav-right"},e))}}]),t}(r.a.Component),K=Object(i.b)(function(e){return{loggedIn:null!==e.auth.username}})(Object(B.a)(J)),M=(n(264),function(){return r.a.createElement("div",{className:"footer-container"},r.a.createElement("div",{className:"signature"},"Designed and Developed",r.a.createElement("br",null),"by Paul Lime"))}),V=(n(266),function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(U.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={accordionHead:"read more here..."},n.handleAccordion=function(e){var t=document.getElementsByClassName("accordion"),n=null;for(n=0;n<t.length;n++)t[n].addEventListener("click",function(){this.classList.toggle("active"),"read more here..."===this.state.accordionHead?this.setState({accordionHead:"show less..."}):this.setState({accordionHead:"read more here..."});var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"})},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"landing-container"},r.a.createElement("div",{className:"landing-overlay"},r.a.createElement("h1",{className:"landing-h1"},"Plan-it"),r.a.createElement("div",{className:"landing-subhead"},r.a.createElement("h2",{className:"landing-h2"},"Bringing effectiveness to your group's travel planning"),r.a.createElement("div",{className:"landing-more-wrapper"},r.a.createElement("div",{className:"accordion",onClick:this.handleAccordion},this.state.accordionHead),r.a.createElement("div",{className:"panel"},'The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.')))))}}]),t}(r.a.Component)),Q=n(381),W=function(e){return{type:"FETCH_DATA_ERROR",error:e}},Y=function(e,t){return function(n){fetch("".concat(f.API_ORIGIN,"/api/events/").concat(e),{method:"GET",headers:{"content-type":"application/json","x-auth":t}}).then(function(e){return e.ok?e.json():Promise.reject(e.statusText)}).then(function(e){n(function(e){return{type:"SET_EVENT",data:e}}(e))}).catch(function(e){console.log(e)})}},q=(n(139),function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(U.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).onJoin=function(e){var t=n.props.events.find(function(t){return t._id===e});if(!t.password)return n.props.joinEventRoom(t._id),n.props.history.push("/events/".concat(e));var a=prompt("Please enter the password here:");return null===a||""===a?alert("must enter a value"):a===t.password?(n.props.joinEventRoom(t._id),n.props.history.push("/events/".concat(e))):alert("Incorrect Password!")},n.onDelete=function(e){console.log(e);var t=n.props.events.find(function(t){return t._id===e});t.password||n.props.deleteEvent(e,n.props.token);var a=prompt("Please enter the password here:");return null===a||""===a?alert("must enter a value"):a!==t.password?alert("Incorrect Password!"):void n.props.deleteEvent(e,n.props.token)},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"event-card-container"},r.a.createElement("img",{className:"event-card-image card-item",src:this.props.imageUrl,height:"175",width:"275"}),r.a.createElement("div",{className:"event-card-title card-item"},this.props.title),r.a.createElement("div",{className:"event-card-description card-item"},this.props.description),r.a.createElement("button",{className:"card-item","data-event-id":this.props._id,onClick:function(t){e.onJoin(t.currentTarget.getAttribute("data-event-id"))}},"JOIN"),r.a.createElement("button",{className:"card-item","data-event-id":this.props._id,onClick:function(t){e.onDelete(t.currentTarget.getAttribute("data-event-id"))}},"DELETE"))}}]),t}(a.Component)),$=Object(i.b)(function(e){return{token:e.auth.authToken,events:e.protected_data.events}},function(e){return{deleteEvent:function(t,n){return e(function(e){return function(t,n){var a=n().auth.authToken;return t({type:"AUTH_REQUEST"}),fetch("".concat(f.API_ORIGIN,"/api/events/").concat(e),{method:"DELETE",headers:{"x-auth":a}}).then(function(e){return v(e)}).then(function(e){console.log("delete res.json",e)}).then(function(){console.log("delete data",e),t({type:"DELETE_EVENT",data:e})}).catch(function(e){console.log("delete event err",e),t(W(e))})}}(t))},joinEventRoom:function(t){return e(function(e){return function(t,n){var a=n().auth.authToken,r=n().auth.userID;fetch("".concat(f.API_ORIGIN,"/api/events/").concat(e,"/join/").concat(r),{method:"POST",headers:{"content-type":"application/json","x-auth":a}}).then(function(e){return e.ok?e.json():Promise.reject(e.statusText)}).then(function(n){t(Y(e,a))}).catch(function(e){console.log(e)})}}(t))}}})(Object(B.a)(q)),z=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(U.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={imageUrl:"",title:"",description:"",password:""},n.handleChange=function(e){n.setState(Object(d.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),console.log("event create props",n.props.token),n.props.createEvent(n.state,n.props.token),n.setState({imageUrl:"",title:"",description:"",password:""})},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"event-create-container event-card-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"card-item create-card-heading"},"Create New Event"),r.a.createElement("img",{className:"event-card-image card-item",src:"https://upload.wikimedia.org/wikipedia/commons/5/54/1_hallstatt_austria.jpg",height:"175",width:"275"}),r.a.createElement("div",{className:"card-item create-card-item"},r.a.createElement("label",{htmlFor:"title"},"Title:"),r.a.createElement("input",{type:"title",id:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement("div",{className:"card-item create-card-item"},r.a.createElement("label",{htmlFor:"description"},"Description:"),r.a.createElement("input",{type:"description",id:"description",value:this.state.description,onChange:this.handleChange})),r.a.createElement("div",{className:"card-item create-card-item"},r.a.createElement("label",{htmlFor:"image"},"Image URL:"),r.a.createElement("input",{type:"description",id:"imageUrl",value:this.state.imageUrl,onChange:this.handleChange})),r.a.createElement("div",{className:"card-item create-card-item"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{type:"password",id:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement("button",{className:"card-item create-card-item"},"Create")))}}]),t}(a.Component),X=Object(i.b)(function(e){return{token:e.auth.authToken}},function(e){return{createEvent:function(t,n){return e(function(e,t){return function(n){n({type:"AUTH_REQUEST"}),fetch("".concat(f.API_ORIGIN,"/api/events"),{method:"POST",headers:{"content-type":"application/json","x-auth":t},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():Promise.reject(e.statusText)}).then(function(e){console.log("DATA DATA",e),n(function(e){return{type:"ADD_EVENT",data:e}}(e))}).catch(function(e){console.log(e)})}}(t,n))}}})(z),Z=(n(269),function(e){function t(){return Object(w.a)(this,t),Object(U.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(e,t){var n=t().auth.authToken;return fetch("".concat(f.API_ORIGIN,"/api/events"),{method:"GET",headers:{"x-auth":n}}).then(function(e){return v(e)}).then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:"FETCH_PROTECTED_DATA_SUCCESS",data:e}}(t))}).catch(function(t){e(W(t))})})}},{key:"render",value:function(){if(this.props.loggedIn&&void 0!==this.props.events){var e=this.props.events.map(function(e,t){return r.a.createElement($,Object.assign({index:t,key:t},e))});return r.a.createElement("div",{className:"dashboard-wrapper"},r.a.createElement("div",{className:"background-image-overlay"}),r.a.createElement(X,null),r.a.createElement("div",{className:"eventcards-wrapper"},e))}return r.a.createElement(Q.a,{to:"/signin"})}}]),t}(r.a.Component)),ee=Object(i.b)(function(e){return{events:e.protected_data.events,protectedData:e.protected_data.data,loggedIn:null!==e.auth.username}})(Object(B.a)(Z)),te=function(e){return{type:"FETCH_DATA_ERROR",error:e}},ne=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(U.a)(this,Object(R.a)(t).call(this,e))).handleCheckBox=function(e){console.log("checkbox",n.state.checkBox),n.setState(Object(d.a)({},e.target.id,!n.props.completed),function(){n.props.updateTask(n.props._id,n.state.checkBox,n.props.taskDetails)})},n.state={checkBox:e.completed},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=r.a.createElement("input",{type:"checkbox",id:"checkBox",checked:this.state.checkBox,onChange:this.handleCheckBox});return r.a.createElement("div",null,e,this.props.taskDetails)}}]),t}(a.Component),ae=Object(i.b)(function(e){return{}},function(e){return{updateTask:function(t,n,a){return e(function(e,t,n){return function(a,r){var c=r().auth.authToken,o=r().event_room.eventID;console.log("inputs:",t,"taskID:",e,o),fetch("".concat(f.API_ORIGIN,"/api/events/").concat(o,"/tasks/").concat(e),{method:"PUT",headers:{"content-type":"application/json","x-auth":c},body:JSON.stringify({completed:t,taskDetails:n})}).then(function(e){return e.ok?e.json():Promise.reject(e.statusText)}).then(function(e){console.log("TASK PUT DATA",e),a(function(e){return{type:"UPDATE_TASKS",data:e}}(e))}).catch(function(e){console.log(e)})}}(t,n,a))}}})(ne),re=(n(140),function(e){function t(){return Object(w.a)(this,t),Object(U.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props.tasks.map(function(e,t){return r.a.createElement(ae,Object.assign({index:t,key:t},e))});return r.a.createElement("div",null,r.a.createElement("div",{className:"tasks-username"},this.props.tasks[0].user.username),e,r.a.createElement("button",null,"Clear completed"))}}]),t}(a.Component)),ce=Object(i.b)(function(e){return{}})(re),oe=n(379),ie=n(378),se=function(e){function t(){return Object(w.a)(this,t),Object(U.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidUpdate",value:function(e){!e.meta.active&&this.props.meta.active&&this.input.focus()}},{key:"render",value:function(){var e,t,n=this,a=this.props.element||"input";return this.props.meta.touched&&this.props.meta.error&&(e=r.a.createElement("div",{className:"form-error"},this.props.meta.error)),this.props.meta.touched&&this.props.meta.warning&&(t=r.a.createElement("div",{className:"form-warning"},this.props.meta.warning)),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:this.props.input.name},this.props.label,e,t),r.a.createElement(a,Object.assign({},this.props.input,{id:this.props.input.name,type:this.props.type,ref:function(e){return n.input=e}})))}}]),t}(r.a.Component),le=function(e){return e?void 0:"Required"},ue=function(e){return""!==e.trim()?void 0:"Cannot be empty"},he=function(e,t){return function(n,a){var r=a().auth.authToken,c=a().event_room.eventID;fetch("".concat(f.API_ORIGIN,"/api/events/").concat(c,"/schedule/").concat(t),{method:"PUT",headers:{"content-type":"application/json","x-auth":r},body:JSON.stringify({date:e.Date,details:e.Details,location:e.Location})}).then(function(e){return e.ok?e.json():Promise.reject(e.statusText)}).then(function(e){console.log("Schedule PUT DATA",e),n(function(e){return{type:"UPDATE_SCHEDULE",data:e}}(e))}).catch(function(e){console.log(e)})}},de=(n(141),n(273),function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(U.a)(this,Object(R.a)(t).call(this,e))).handleScheduleEdit=function(e){n.setState({edit:!n.state.edit})},n.handleScheduleUpdate=function(e){n.props.dispatch(he(e,n.props._id))},n.state={date:e.date,details:e.details,location:e.location,edit:!1},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"onSubmit",value:function(e){return fetch("/api/messages",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){if(!e.ok)return e.headers.has("content-type")&&e.headers.get("content-type").startsWith("application/json")?e.json().then(function(e){return Promise.reject(e)}):Promise.reject({code:e.status,message:e.statusText})}).then(function(){return console.log("Submitted with values",e)}).catch(function(e){var t=e.reason,n=e.message,a=e.location;return"ValidationError"===t?Promise.reject(new E.a(Object(d.a)({},a,n))):Promise.reject(new E.a({_error:"Error submitting message"}))})}},{key:"render",value:function(){var e,t,n=this;this.props.submitSucceeded&&(e=r.a.createElement("div",{className:"message message-success"},"Message submitted successfully")),this.props.error&&(t=r.a.createElement("div",{className:"message message-error"},this.props.error));var a=this.state.edit?"Cancel":"Edit",c=this.state.edit?r.a.createElement("form",{onSubmit:this.props.handleSubmit(function(e){return n.handleScheduleUpdate(e)})},e,t,r.a.createElement(oe.a,{name:"Date",type:"datetime-local",component:se,label:"Date",validate:[le,ue]}),r.a.createElement(oe.a,{name:"Location",type:"text",component:se,label:"Location",validate:[le,ue]}),r.a.createElement(oe.a,{name:"Details",type:"text",component:se,label:"Details",validate:[le,ue]}),r.a.createElement("button",{type:"submit",disabled:this.props.pristine||this.props.submitting},"Save")):null;return r.a.createElement("div",{className:"schedule-wrapper"},r.a.createElement("ul",null,r.a.createElement("ul",{className:"schedule-parent-date"},r.a.createElement("li",{className:"schedule-item schedule-date"},C()(this.props.date).format("dddd, MMMM Do YYYY, h:mm:ss a")),r.a.createElement("li",{className:"schedule-item schedule-location"},this.props.location)),r.a.createElement("li",{className:"schedule-item schedule-details"},this.props.details),r.a.createElement("button",{onClick:this.handleScheduleEdit},a)),r.a.createElement("div",{className:"edit-schedule"},c))}}]),t}(a.Component));de=Object(i.b)(function(e){return{}})(de);var me=Object(ie.a)({form:"schedule"})(de),pe=function(e){function t(){return Object(w.a)(this,t),Object(U.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chat-text"},"chat div")}}]),t}(a.Component),fe=Object(i.b)(function(e){return{}})(pe),ve=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(U.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={date:"",details:"",location:""},n.handleScheduleChange=function(e){n.setState(Object(d.a)({},e.target.id,e.target.value)),console.log(n.state)},n.handleScheduleSubmit=function(e){if(e.preventDefault(),""===n.state.date||""===n.state.description)return alert("Date, Time, and Description cannot be blank");n.props.createSchedule(n.state),n.setState({date:"",details:"",location:""})},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){(new Date).toISOString().split(".")[0];return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleScheduleSubmit},r.a.createElement("div",null,"Create New *SCHEDULE*"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"location"}),r.a.createElement("input",{type:"text",id:"location",onChange:this.handleScheduleChange,placeholder:"Location: e.g., place & city",value:this.state.location})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"date"}),r.a.createElement("input",{type:"datetime-local",id:"date",value:this.state.date,onChange:this.handleScheduleChange})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"details"}),r.a.createElement("input",{type:"text",id:"details",value:this.state.details,onChange:this.handleScheduleChange,placeholder:"details of activity, place, etc..."}))),r.a.createElement("button",null,"Create")))}}]),t}(a.Component),Ee=Object(i.b)(function(e){return{}},function(e){return{createSchedule:function(t,n){return e(function(e){return function(t,n){var a=n().auth.authToken,r=n().event_room.eventID;fetch("".concat(f.API_ORIGIN,"/api/events/").concat(r,"/schedule"),{method:"POST",headers:{"content-type":"application/json","x-auth":a},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():Promise.reject(e.statusText)}).then(function(e){t(function(e){return{type:"ADD_TO_SCHEDULE",data:e}}(e))}).catch(function(e){console.log(e)})}}(t))}}})(ve),ge=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(U.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={taskDetails:"",user:""},n.handleChange=function(e){""===n.state.user&&n.setState({user:n.props.users[0]._id}),n.setState(Object(d.a)({},e.target.id,e.target.value)),console.log("state",n.state)},n.handleSubmit=function(e){if(e.preventDefault(),""===n.state.taskDetails)return alert("Description cannot be blank");n.props.createTask(n.state)},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(void 0!==this.props.users){var e=this.props.users.map(function(e,t){return r.a.createElement("option",{key:t,id:e,value:e._id},e.username)});return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,"Create New *TASK*"),r.a.createElement("select",{id:"user",onChange:this.handleChange},e),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"taskDetails"},"description"),r.a.createElement("input",{type:"text",id:"taskDetails",onChange:this.handleChange})),r.a.createElement("button",null,"Create")))}return r.a.createElement("div",null,"Loading...")}}]),t}(a.Component),be=Object(i.b)(function(e){return{users:e.event_room.event.users,token:e.auth.authToken}},function(e){return{createTask:function(t,n){return e(function(e){return function(t,n){var a=n().auth.authToken,r=n().event_room.eventID;console.log("inputs:",e),fetch("".concat(f.API_ORIGIN,"/api/events/").concat(r,"/tasks/user/").concat(e.user),{method:"POST",headers:{"content-type":"application/json","x-auth":a},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():Promise.reject(e.statusText)}).then(function(e){console.log("Task DATA dispatching to store:",e),t(function(e){return{type:"ADD_TO_TASKS",data:e}}(e))}).catch(function(e){console.log(e)})}}(t))}}})(ge),Oe=function(e){function t(){return Object(w.a)(this,t),Object(U.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){var e,t=this.props.match.params.id;this.props.dispatch((e=t,function(t,n){var a=n().auth.authToken;return fetch("".concat(f.API_ORIGIN,"/api/events/").concat(e,"/schedule"),{method:"GET",headers:{"x-auth":a}}).then(function(e){return v(e)}).then(function(e){return e.json()}).then(function(e){t(function(e){return{type:"FETCH_SCHEDULES_SUCCESS",data:e}}(e))}).catch(function(e){t(te(e))})})),this.props.dispatch(function(e){return function(t,n){var a=n().auth.authToken;return fetch("".concat(f.API_ORIGIN,"/api/events/").concat(e,"/tasks"),{method:"GET",headers:{"x-auth":a}}).then(function(e){return v(e)}).then(function(e){return e.json()}).then(function(e){t(function(e){return{type:"FETCH_TASKS_SUCCESS",data:e}}(e))}).catch(function(e){t(te(e))})}}(t))}},{key:"render",value:function(){var e=this;if(this.props.loggedIn&&void 0!==this.props.tasks){var t=this.props.schedules.map(function(e,t){return r.a.createElement(me,Object.assign({index:t,key:t},e))}),n=Object(k.a)(new Set(this.props.tasks.map(function(e){return e.user.username}))).map(function(t){return e.props.tasks.filter(function(e){return e.user.username===t})}).map(function(e,t){return r.a.createElement(ce,{index:t,key:t,tasks:e})});return r.a.createElement("div",{className:"event-room-container"},r.a.createElement("h1",{className:"event-title"},this.props.event.title),r.a.createElement("div",{className:"event-room-wrapper"},r.a.createElement("div",{className:"tasks-wrapper"},r.a.createElement("div",{className:"Tasks-wrapper"},n),r.a.createElement(be,null)),r.a.createElement("div",{className:"schedule-container"},t,r.a.createElement(Ee,null)),r.a.createElement("div",{className:"chat-wrapper"},r.a.createElement(fe,null))))}return r.a.createElement(Q.a,{to:"/signin"})}}]),t}(r.a.Component),je=Object(i.b)(function(e){return{loading:e.event_room.loading,eventID:e.event_room.eventID,event:e.event_room.event,schedules:e.event_room.schedules,tasks:e.event_room.tasks,protectedData:e.protected_data.data,loggedIn:null!==e.auth.username}})(Object(B.a)(Oe)),ye=(n(182),function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(U.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},n.handleChange=function(e){n.setState(Object(d.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault();n.state.email,n.state.password;n.props.signin(n.state),n.setState({email:"",password:""})},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return this.props.loggedIn?r.a.createElement(Q.a,{to:"/dashboard"}):r.a.createElement("div",{className:"auth-container"},r.a.createElement("form",{className:"auth-form",onSubmit:this.handleSubmit},r.a.createElement("div",null,"Login In heading"),r.a.createElement("div",{className:"auth-item"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"auth-item"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("button",{className:"auth-item"},"Login")))}}]),t}(a.Component)),ke=Object(i.b)(function(e){return{loggedIn:null!==e.auth.username}},function(e){return{signin:function(t){return e(function(e){return function(t){t({type:"AUTH_REQUEST"}),fetch("".concat(f.API_ORIGIN,"/api/users/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():Promise.reject(e.statusText)}).then(function(e){console.log("user signin res",e),b(e,t)}).catch(function(e){console.log(e)})}}(t))}}})(ye),Te=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(c)))).state={email:"",password:"",username:""},n.handleChange=function(e){n.setState(Object(d.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){return e.preventDefault(),n.props.signup(n.state),n.setState({email:"",password:"",username:""}),r.a.createElement(Q.a,{to:"/signin"})},n}return Object(x.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"auth-container"},r.a.createElement("form",{className:"auth-form",onSubmit:this.handleSubmit},r.a.createElement("div",null,"Sign Up heading"),r.a.createElement("div",{className:"auth-item"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"auth-item"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"username",id:"username",onChange:this.handleChange})),r.a.createElement("div",{className:"auth-item"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("button",{className:"auth-item"},"Sign-up")))}}]),t}(a.Component),Se=Object(i.b)(function(e){return{}},function(e){return{signup:function(t){return e(function(e){return function(t){return fetch("".concat(f.API_ORIGIN,"/api/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return v(e)}).then(function(e){return e.json()}).catch(function(e){var t=e.reason,n=e.message,a=e.location;if("ValidationError"===t)return Promise.reject(new E.a(Object(d.a)({},a,n)))})}}(t))}}})(Te),Ce=n(380),_e=n(383),Ne=n(262),Ie=(n(371),function(e){function t(){return Object(w.a)(this,t),Object(U.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidUpdate",value:function(e){!e.loggedIn&&this.props.loggedIn?this.startPeriodicRefresh():e.loggedIn&&!this.props.loggedIn&&this.stopPeriodicRefresh()}},{key:"componentWillUnmount",value:function(){this.stopPeriodicRefresh()}},{key:"startPeriodicRefresh",value:function(){var e=this;this.refreshInterval=setInterval(function(){return e.props.dispatch(O())},36e5)}},{key:"stopPeriodicRefresh",value:function(){this.refreshInterval&&clearInterval(this.refreshInterval)}},{key:"render",value:function(){return r.a.createElement(Ce.a,null,r.a.createElement("div",{className:"root-container"},r.a.createElement("header",{className:"App-header"},r.a.createElement(K,null)),r.a.createElement("main",null,r.a.createElement(_e.a,null,r.a.createElement(Ne.a,{exact:!0,path:"/",component:V}),r.a.createElement(Ne.a,{path:"/dashboard",component:ee}),r.a.createElement(Ne.a,{exact:!0,path:"/events/:id",component:je}),r.a.createElement(Ne.a,{path:"/signin",component:ke}),r.a.createElement(Ne.a,{path:"/signup",component:Se}))),r.a.createElement("footer",null,r.a.createElement(M,null))))}}]),t}(a.Component)),De=Object(i.b)(function(e){return{hasAuthToken:null!==e.auth.authToken,loggedIn:null!==e.auth.username}})(Ie);n(373),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:A},r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},88:function(e,t,n){}},[[189,2,1]]]);
//# sourceMappingURL=main.ac78f014.chunk.js.map